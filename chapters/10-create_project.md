### Creating a project ###

We can't start studying the language without a basis. Thus, download and install
[`Haskell Platform`](http://www.haskell.org/platform).

Haskell Platform contains two essential components, which you should know about:

1. `ghc`, Haskell Compiler (**G**lasgow **H**askell **C**ompiler);
2. `ghci`, Haskell interpreter.

Got it? Now feel free to forget. Especially about the interpreter. Cause you
gonna use Haskell in real world and therefore all your projects would be compiled.
Moreover, the direct usage of `ghc` compiler will hardly be necessary for you.
Of course, `ghci` interpreter may be useful sometimes, but you can do without it.

In real world you ain't no need creating file [`Main.hs`](.hs -- standard file 
extension for source-code written in Haskell) on your desktop and then
feeding it to compiler. Instead, you will create a normal working project with
logical inner structure. So let's start with it. A convenient
utility from Haskell Platform with unusual name [`cabal`](Acronym formed from
**c**ommon **a**rchitecture for **b**uilding **a**pplications and **l**ibraries.)
will be our assistant.

`Cabal` utility is intended for compiling projects. Sure, you heard about things
like `cmake` or `qmake`, take `cabal` as "cmake specially for Haskell". 

Let us create. Of course, all actions described below imply your strong friendship
with a command line. I will demonstrate Unix commands, if you are using
Windows -- adapt these examples for yourself.

#### Preparing the structure ####

Open the terminal and start creating:
	
	$ mkdir -p Real/src/Utils
	$ touch Real/src/Main.hs
	$ touch Real/src/Utils/Helpers.hs

Now we have a directory `Real` with a regular structure:

	Real/
	└── src
		├── Main.hs
		└── Utils
			└── Helpers.hs

The root directory `src`, contains all our sources logically grouped.

Concerning names, you probably wondering why names of files and directories
inside directory `src` are uppercased? I will explain the reason a while after.
Now, let's open file `Main.hs` and write in there:

```haskell
main = putStrLn "Hi, haskeller!"	
```

Now close it and get back to the root of the project.

#### Configuring ####

Execute a command:
	
	$ cabal init

You will get into an interactive dialog in which you will be offered to answer
a few questions about your project. At the end of the dialog project files are
created automatically and the content of our directory is structured as
follows:

	.
	├── Real.cabal
	├── Setup.hs
	└── src
		├── Main.hs
		└── Utils
			└── Helpers.hs

By the way, in case if you see such warning:
	
	Generating LICENSE...
	Warning: unknown license type, you must put a copy in LICENSE yourself.

don't worry. Just add `LICENSE` file by hand in order to keep the classical
project structure.

As was said before, the root directory of our project got two more files,
`Real.cabal` and `Setup.hs`. We are not really [interested](Official documentation
says that you will lately need to touch the `Setup.hs` file.) in the second, but
the first is the actual makefile of our project. Let's open it.

	-- Initial Real.cabal generated by cabal init.
	For further documentation,
	-- see http://haskell.org/cabal/users-guide/
	name:               Real
	version:            0.1.0.0
	synopsis:           Real project in Haskell
	-- description:
	-- license:
	license-file:       LICENSE
	author:             Denis Shevchenko
	maintainer:         me@dshevchenko.biz
	-- copyright:
	-- category:
	build-type:         Simple
	cabal-version:      >=1.8
	executable Real
	  -- main-is:
	  -- other-modules:
	  build-depends:      base ==4.6.*
	  hs-source-dirs:     src

The values which we input in dialog mentioned above are already saved here.
However we can't actually build the project at the moment as the line:

	-- main-is:

is commented. The syntax used in this file is similar to one of Haskell, that's
why one-line comments here, as well as in the source code, begin with two
minuses in the row. Multi-line comment which you also need, are enclosed between
the symbols `{-` and `-}.

What we should do is to uncomment that line and put there a name of the `Main.hs`
file which contains function [`main`](Function `main` -- the main function of
application, similar to `int main\(\)` in the C language.).

	$ main-is: Main.hs

#### Configuring ####

Execute:
	
	$ cabal configure

In result, the project would be prepared to building. But before we move to
it, I draw your attention to the last part of the file `Real.cabal`.

	executable Real
	  main-is:
	  -- other-modules:
	  build-depends:      base ==4.6.*
	  hs-source-dirs:     src

Can you see the two-space indentation of the last four lines? It turns out that
such indent is essential and the project wouldn't build without it. Furthermore,
this indent should be at least two spaces. I recommend to use four spaces for beauty.

One more detail. It is not necessary but wouldn't be superfluous. Append
section `executable Real` with this line:

	ghc-options:        -W

`ghc-options` parameter allows to set options for `ghc`. Particularly, option
`-W` politely asks `ghc` to show basic compilation warnings. Do not miss such an
opportunity.

#### Building ###

Execute:

	$ cabal build
	Building Real-0.1.0.0...
	Preprocessing executable 'Real' for Real-0.1.0.0...
	[1 of 1] Compiling Main             ( src/Main.hs, dist/build/Real/Real-tmp/Main.o )
	Linking dist/build/Real/Real ...

Done. We got something new in our directory.

	.
	├── LICENSE
	├── Real.cabal
	├── Setup.hs
	├── dist
	│   ├── build
	│   │   ├── Real
	│   │   │   ├── Real  <<<--- Here is our executable.
	...

At that point, we are not interested in the rest of the `dist` directory.

#### Running ####

It's time to run our application. Being in the root directory of project, run:

	$ ./dist/build/Real/Real
	Hi haskeller!

That's it. Now you know how to create, configure and build a Haskell project.
Probably you are wondering why did we create file `Helpers.hs` in the subdirectory
`Utils`? What's the point of that, if it is left empty? You will find it out in
the following chapter.
